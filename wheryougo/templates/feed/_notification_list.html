<h3 class="text-lg font-bold text-gray-900 dark:text-gray-100 mb-4">Recent Activity</h3>

{% for notif in notifications %}
 <div class="space-y-3 py-2 border-b border-gray-200 dark:border-gray-700">
    {% if notif.notification_type == 'like' %}
    <div class="text-sm">
        <div class="{% cycle 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' 'bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200' 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200' %} p-3 rounded-lg">
            <span class="font-medium text-gray-900 dark:text-gray-100">{{ notif.from_user.username }}</span>
            <span class="text-gray-600 dark:text-gray-300"> liked your post about</span>
            <a href="{% url 'view_post' notif.post.id %}" class="text-blue-600 dark:text-blue-400 hover:underline">{{ notif.post.title }}</a>.
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">{{ notif.created_at|timesince }} ago</p>
        </div>
    </div>
    {% elif notif.notification_type == 'follow' %}
    <div class="text-sm">
        <div class="{% cycle 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' 'bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200' 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200' 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' %} p-3 rounded-lg">
            <span class="font-medium text-gray-900 dark:text-gray-100">{{ notif.from_user.username }}</span>
            <span class="text-gray-600 dark:text-gray-300"> has started following you</span>
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">{{ notif.created_at|timesince }} ago</p>
        </div>
    </div>
    {% elif notif.notification_type == 'comment' %}
    <div class="text-sm">
        <div class="{% cycle 'bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200' 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200' 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' %} p-3 rounded-lg">
            <span class="font-medium text-gray-900 dark:text-gray-100">{{ notif.from_user.username }}</span>
            <span class="text-gray-600 dark:text-gray-300"> commented on your post about</span>
            <a href="{% url 'view_post' notif.post.id %}" class="text-blue-600 dark:text-blue-400 hover:underline">{{ notif.post.title }}</a>.
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">{{ notif.created_at|timesince }} ago</p>
        </div>
    </div>
    {% elif notif.notification_type == 'favorite' %}
    <div class="text-sm">
        <div class="{% cycle 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200' 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' 'bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200' %} p-3 rounded-lg">
            <span class="font-medium text-gray-900 dark:text-gray-100">{{ notif.from_user.username }}</span>
            <span class="text-gray-600 dark:text-gray-300"> favourited your post about</span>
            <a href="{% url 'view_post' notif.post.id %}" class="text-blue-600 dark:text-blue-400 hover:underline">{{ notif.post.title }}</a>.
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">{{ notif.created_at|timesince }} ago</p>
        </div>
    </div>
    {% endif %}
    {% empty %}
    <div class="text-gray-500 dark:text-gray-400 py-8 text-center">No recent activity.</div>
{% endfor %} 

{% if total_notifications|length > 5 %}
{% else %}
    <div class="text-sm mt-4">
        <a href="{% url 'notification_list_all' %}" class="text-blue-500 dark:text-blue-400 hover:underline">View all notifications</a>
    </div>
{% endif %}